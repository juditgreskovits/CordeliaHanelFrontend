var studioHanel=studioHanel||{};studioHanel.Landing=function(){function a(a,b){if($("#landing").height(a-$("#teaser-about").height()),a>b){var c=Math.round(b/3);$("#landing").css("background-position-y",-c+"px")}}studioHanel.Landing.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.TeaserAbout=function(){function a(a,b){if(a>b){var c=a-$("#teaser-about").height();$("#teaser-about").css({top:c}),$("#teaser-about .arrow").css("opacity",(.33*a-b)/a*6),$("#teaser-about h1").css("opacity",(.5*a-b)/a*6)}}studioHanel.TeaserAbout.prototype.update=a},studioHanel.About=function(){function a(a,b){if(2*a>b){var c=$("#landing").height();b>c&&(c=b),.33*c>b?c+=$("#teaser-about").height():.66*c>b&&(c+=$("#teaser-about").height()*(.66*c-b)/c*3),$("#about").css({top:c})}}studioHanel.About.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.TeaserInteriors=function(){function a(a,c){var d,e,f=$("#landing").height(),g=$("#about").height();f>c?(d=$("#about").position().top+g,e=1):c>f+g?(d=c,e=0):(d=f+g,e=(f+.66*g-c)/g*3,e>1&&(e=1)),$("#teaser-interiors").css({top:d}),$("#teaser-interiors .pattern").css("opacity",e),$("#teaser-interiors h2").css("opacity",e),$("#teaser-interiors .arrow").height(b*e),$("#teaser-interiors .arrow").css("background-position-y",$("#teaser-interiors .arrow").height()-20)}var b=$("#teaser-interiors .arrow").height();studioHanel.TeaserInteriors.prototype.update=a},studioHanel.Interiors=function(){function a(a,b){$("#interiors").height(a-$("#teaser-interiors").height());var c,d=$("#landing").height(),e=$("#about").height(),f=$("#teaser-interiors").height();c=d+e>b?$("#teaser-interiors").position().top+f:d+e+f,$("#interiors").css({top:c})}studioHanel.Interiors.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.CaseStudy=function(){function a(a){var b=a-$("#teaser-interiors").height();$(".col-md-6").height(b/3);var c=$("#interiors").position().top+$("#interiors").height();$("#case-study").css({top:c})}studioHanel.CaseStudy.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.ProductDesign=function(){function a(a){$("#product-design").height(a-$("#teaser-interiors").height()-$("#teaser-contact").height());var b=$("#case-study").position().top+$("#case-study").height();$("#product-design").css({top:b})}studioHanel.ProductDesign.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.TeaserContact=function(){function a(){var a=$("#product-design").position().top+$("#product-design").height();$("#teaser-contact").css({top:a})}studioHanel.TeaserContact.prototype.update=a},studioHanel.Contact=function(){function a(a,c){var d,e=$("#teaser-contact").position().top+$("#teaser-contact").height()-a,f=$("#teaser-contact").position().top+$("#teaser-contact").height()-b;if(e>c)f=f,d=b;else{var g=c-e;b>g?(f+=g,d=b-g):(f+=b,d=0)}$("#contact").css({top:f}),$("#contact").css("padding-bottom",d)}var b=$("#contact .pattern").position().top+$("#contact .pattern").height()-$("#contact").position().top;studioHanel.Contact.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.Menu=function(a){function b(a){$.each(a,function(a,b){var c=a+1;$("#menu").append('<li><a href="#" id="'+c+'">'+b.label+"</a></li>")}),$("#menu li a").on("click",function(a){a.preventDefault(),f(this.id)}),$("#logo").on("click",function(){f(0)})}function c(a,b,f){d(a),b>h[currentIndex]-.1*a?b<h[currentIndex+1]-.1*a||currentIndex==h.length-1?e():currentIndex<h.length&&(currentIndex++,c(a,b,f)):b<h[currentIndex]-.1*a&&currentIndex>0&&(currentIndex--,c(a,b,f))}function d(a){g!=a&&(g=a,h[1]=$("#landing").height(),h[2]=h[1]+$("#about").height(),h[3]=h[2]+$("#interiors").height(),h[4]=h[3]+$("#case-study").height(),h[5]=h[4]+$("#contact").height())}function e(){console.log("highlight currentIndex = "+currentIndex),i!=currentIndex&&($("#menu li #"+i).removeClass("selected"),$("#menu li #"+currentIndex).addClass("selected"),i=currentIndex)}function f(b){currentIndex=b;var c=h[currentIndex];a.scrollToPosition(c)}var a=a,g=0,h=[0],i=currentIndex=0;studioHanel.Menu.prototype.populate=b,studioHanel.Menu.prototype.update=c};var studioHanel=studioHanel||{};studioHanel.Navigation=function(){function a(a){var c=Math.abs(a-f),d=.33+33e-5*c;console.log("scrollTime = "+d),TweenMax.to($(window),d,{scrollTo:{y:a,autoKill:!0},ease:Sine.easeOut,onUpdate:b,overwrite:5})}function b(){f=$(window).scrollTop(),g=$(document).height()-$(window).height(),$.each(d,function(a,b){b.update(e,f,g)})}function c(a){d.push(a)}var d=[],e=$(window).height(),f=$(window).scrollTop(),g=$(document).height()-$(window).height();$(window).resize(function(){e=$(window).height(),b()}),$(window).on("scroll",b),studioHanel.Navigation.prototype.scrollToPosition=a,studioHanel.Navigation.prototype.update=b,studioHanel.Navigation.prototype.registerSection=c};var studioHanel=studioHanel||{};studioHanel.StudioHanel=function(){var a="http://127.0.0.1:8000/api/studiohanel/menu/?format=json",b=new studioHanel.Landing,c=new studioHanel.TeaserAbout,d=new studioHanel.About,e=new studioHanel.TeaserInteriors,f=new studioHanel.Interiors,g=new studioHanel.CaseStudy,h=new studioHanel.ProductDesign,i=new studioHanel.TeaserContact,j=new studioHanel.Contact,k=new studioHanel.Navigation;k.registerSection(b),k.registerSection(c),k.registerSection(d),k.registerSection(e),k.registerSection(f),k.registerSection(g),k.registerSection(h),k.registerSection(i),k.registerSection(j);var l=new studioHanel.Menu(k);k.registerSection(l),k.update(),$.getJSON(a,function(a){console.log(a),l.populate(a.objects)})};