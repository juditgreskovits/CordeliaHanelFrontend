var studioHanel=studioHanel||{};studioHanel.Utils=function(){},studioHanel.Utils.markupLinebreaks=function(a,b,c){return void 0==c&&(c="<br/>"),a=a.replace(/\n/g,c),b&&(a="<p>"+a+"</p>"),a};var studioHanel=studioHanel||{};studioHanel.Landing=function(){function a(a,b){if($("#landing").height(a-$("#teaser-about").height()),a>b){var c=Math.round(b/3);$("#landing").css("background-position-y",-c+"px")}}studioHanel.Landing.prototype.update=a};var studioHanel=studioHanel||{};studioHanel.TeaserAbout=function(){function a(a){$("#teaser-about h1").text(a)}function b(a,b){if(a>b){var c=a-$("#teaser-about").height();$("#teaser-about").css({top:c}),$("#teaser-about .arrow").css("opacity",(.33*a-b)/a*6),$("#teaser-about h1").css("opacity",(.5*a-b)/a*6)}}studioHanel.TeaserAbout.prototype.populate=a,studioHanel.TeaserAbout.prototype.update=b},studioHanel.About=function(){function a(a){var b=a[0];$("#about h1").text(b.title);var c=studioHanel.Utils.markupLinebreaks(b.description);c=c.split("<br/>");for(var d,e="",f="",g=0,h=c.length,i=Math.ceil(h/2);h>g;)d="<p>"+c[g]+"</p>",g++<i?e+=d:f+=d;$("#about-first-column").append(e),$("#about-second-column").append(f)}function b(a,b){if(2*a>b){var c=$("#landing").height();b>c&&(c=b),.33*c>b?c+=$("#teaser-about").height():.66*c>b&&(c+=$("#teaser-about").height()*(.66*c-b)/c*3),$("#about").css({top:c})}}studioHanel.About.prototype.populate=a,studioHanel.About.prototype.update=b};var studioHanel=studioHanel||{};studioHanel.TeaserInteriors=function(){function a(a){$("#teaser-interiors h2").text(a)}function b(a,b){var d,e,f=$("#landing").height(),g=$("#about").height();f>b?(d=$("#about").position().top+g,e=1):b>f+g?(d=b,e=0):(d=f+g,e=(f+.66*g-b)/g*3,e>1&&(e=1)),$("#teaser-interiors").css({top:d}),$("#teaser-interiors .pattern").css("opacity",e),$("#teaser-interiors h2").css("opacity",e),$("#teaser-interiors .arrow").height(c*e),$("#teaser-interiors .arrow").css("background-position-y",$("#teaser-interiors .arrow").height()-20)}var c=$("#teaser-interiors .arrow").height();studioHanel.TeaserInteriors.prototype.populate=a,studioHanel.TeaserInteriors.prototype.update=b},studioHanel.Interiors=function(){function a(a){d=a.length;for(var b="",e=0,f=2*Math.ceil(d/2);f>e;e++)e%2==0&&(b+='<div class="row">'),b+='<div id="interior-'+e+'" class="col-md-6">',b+='<div class="overlay-background"></div>',b+="</div>",e%2==1&&(b+="</div>");$("#interiors .container-fluid").append(b),$.each(a,function(a,b){var c="#interior-"+a,d='<div class="overlay">';d+="<h1>"+b.title+"</h1>",d+="<h3>"+b.location+"</h3>",d+="<p>"+b.caption+"</p>",d+="</div>",$(c).append(d),$(c).css("background-image","url(../"+b.interiorImages[0].image+")"),$(c).mouseover(function(){$(this).find(".overlay").css("visibility","visible"),TweenMax.to($(this).find(".overlay-background"),.6,{autoAlpha:1,ease:Sine.easeOut})}),$(c).mouseout(function(){$(this).find(".overlay").css("visibility","hidden"),TweenMax.to($(this).find(".overlay-background"),.3,{autoAlpha:0,ease:Sine.easeIn})})}),c()}function b(a,b){var d=(a-$("#teaser-interiors").height())/2;$("#interiors .container-fluid .row .col-md-6").height(d),c();var e,f=$("#landing").height(),g=$("#about").height(),h=$("#teaser-interiors").height();e=f+g>b?$("#teaser-interiors").position().top+h:f+g+h,$("#interiors").css({top:e})}function c(){}var d;studioHanel.Interiors.prototype.populate=a,studioHanel.Interiors.prototype.update=b};var studioHanel=studioHanel||{};studioHanel.CaseStudy=function(){function a(a){var b=a[0].caseStudyBullets;$.each(b,function(a,b){var c=a+1,d="#case-study .container-fluid .row #cell"+c;$(d).append('<img src="../'+b.image+'">');var e=b.caption;e='<h3><span style="color:#806854">'+e.substring(0,1)+'</span><span style="color:#a8baa9">'+e.substring(1,2)+"</span>"+e.substring(2)+"</h3>",$(d).append(e);var f=studioHanel.Utils.markupLinebreaks(b.paragraph,!0);$(d).append(f),console.log("stage.image = "+b.image)})}function b(){var a=$("#interiors").position().top+$("#interiors").height();$("#case-study").css({top:a})}studioHanel.CaseStudy.prototype.populate=a,studioHanel.CaseStudy.prototype.update=b};var studioHanel=studioHanel||{};studioHanel.ProductDesign=function(){function a(){}function b(a){$("#product-design").height(a-$("#teaser-interiors").height()-$("#teaser-contact").height());var b=$("#case-study").position().top+$("#case-study").height();$("#product-design").css({top:b})}studioHanel.ProductDesign.prototype.populate=a,studioHanel.ProductDesign.prototype.update=b};var studioHanel=studioHanel||{};studioHanel.TeaserContact=function(){function a(a){$("#teaser-contact h2").text(a)}function b(){var a=$("#product-design").position().top+$("#product-design").height();$("#teaser-contact").css({top:a})}studioHanel.TeaserContact.prototype.populate=a,studioHanel.TeaserContact.prototype.update=b},studioHanel.Contact=function(){function a(a){$("#phone").append("<p><strong>"+a[0].phone+"</strong></p>");var b=studioHanel.Utils.markupLinebreaks(a[0].address,!0);b=b.replace("<p>","<p><strong>"),b=b.replace("<br/>","</strong><br/>"),$("#address").append(b)}function b(a,b){var d,e=$("#teaser-contact").position().top+$("#teaser-contact").height()-a,f=$("#teaser-contact").position().top+$("#teaser-contact").height()-c;if(e>b)f=f,d=c;else{var g=b-e;c>g?(f+=g,d=c-g):(f+=c,d=0)}$("#contact").css({top:f}),$("#contact").css("padding-bottom",d)}var c=$("#contact .pattern").position().top+$("#contact .pattern").height()-$("#contact").position().top;studioHanel.Contact.prototype.populate=a,studioHanel.Contact.prototype.update=b};var studioHanel=studioHanel||{};studioHanel.Menu=function(a){function b(a){$.each(a,function(a,b){var c=a+1;$("#menu").append('<li><a href="#" id="'+c+'">'+b.label+"</a></li>")}),$("#menu li a").on("click",function(a){a.preventDefault(),f(this.id)}),$("#logo").on("click",function(){f(0)})}function c(a,b,f){d(a),b>h[currentIndex]-.1*a?b<h[currentIndex+1]-.1*a||currentIndex==h.length-1?e():currentIndex<h.length&&(currentIndex++,c(a,b,f)):b<h[currentIndex]-.1*a&&currentIndex>0&&(currentIndex--,c(a,b,f))}function d(a){g!=a&&(g=a,h[1]=$("#landing").height(),h[2]=h[1]+$("#about").height(),h[3]=h[2]+$("#interiors").height(),h[4]=h[3]+$("#case-study").height(),h[5]=h[4]+$("#contact").height())}function e(){console.log("highlight currentIndex = "+currentIndex),i!=currentIndex&&($("#menu li #"+i).removeClass("selected"),$("#menu li #"+currentIndex).addClass("selected"),i=currentIndex)}function f(b){currentIndex=b;var c=h[currentIndex];a.scrollToPosition(c)}var a=a,g=0,h=[0],i=currentIndex=0;studioHanel.Menu.prototype.populate=b,studioHanel.Menu.prototype.update=c};var studioHanel=studioHanel||{};studioHanel.Navigation=function(){function a(){$(window).resize(function(){f=$(window).height(),c()}),$(window).on("scroll",c)}function b(a){var b=Math.abs(a-g),d=.33+33e-5*b;console.log("scrollTime = "+d),TweenMax.to($(window),d,{scrollTo:{y:a,autoKill:!0},ease:Sine.easeOut,onUpdate:c,overwrite:5})}function c(){g=$(window).scrollTop(),h=$(document).height()-$(window).height(),$.each(e,function(a,b){b.update(f,g,h)})}function d(a){e.push(a)}var e=[],f=$(window).height(),g=$(window).scrollTop(),h=$(document).height()-$(window).height();studioHanel.Navigation.prototype.init=a,studioHanel.Navigation.prototype.scrollToPosition=b,studioHanel.Navigation.prototype.update=c,studioHanel.Navigation.prototype.registerSection=d};var studioHanel=studioHanel||{};studioHanel.StudioHanel=function(){function a(){i++,6==i&&(s.update(),s.init())}console.log("document.domain = "+document.domain);var b="studio-hanel.com"==document.domain?"http://studio-hanel.com/studio-hanel/":"http://127.0.0.1:8000/",c=b+"api/studiohanel/menu/?format=json",d=b+"api/studiohanel/about/?format=json",e=b+"api/studiohanel/interior/?format=json",f=b+"api/studiohanel/casestudy/?format=json",g=b+"api/studiohanel/productdesign/?format=json",h=b+"api/studiohanel/contact/?format=json",i=0,j=new studioHanel.Landing,k=new studioHanel.TeaserAbout,l=new studioHanel.About,m=new studioHanel.TeaserInteriors,n=new studioHanel.Interiors,o=new studioHanel.CaseStudy,p=new studioHanel.ProductDesign,q=new studioHanel.TeaserContact,r=new studioHanel.Contact,s=new studioHanel.Navigation;s.registerSection(j),s.registerSection(k),s.registerSection(l),s.registerSection(m),s.registerSection(n),s.registerSection(o),s.registerSection(p),s.registerSection(q),s.registerSection(r);var t=new studioHanel.Menu(s);s.registerSection(t),$.getJSON(c,function(b){t.populate(b.objects),k.populate(b.objects[0].cta),m.populate(b.objects[1].cta),q.populate(b.objects[4].cta),a()}),$.getJSON(d,function(b){l.populate(b.objects),a()}),$.getJSON(e,function(b){n.populate(b.objects),a()}),$.getJSON(f,function(b){o.populate(b.objects),a()}),$.getJSON(g,function(b){p.populate(b.objects),a()}),$.getJSON(h,function(b){r.populate(b.objects),a()})};